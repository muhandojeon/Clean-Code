**📕 Ch8. 경계**
 > "경계에 위치하는 코드는 깔끔히 분리한다. 또한 기대치를 정의하는 테스트 케이스도 작성한다."

예전에 중간 투입된 프로젝트에서 서버 이전으로 API 스펙이 크게 바뀐 일이 있었다. <br>
기존 코드엔 인터페이스가 파일마다 중복돼 있어 수정이 쉽지 않았고, 시간도 촉박했다. <br>
그래서 급하게 어댑터 패턴을 적용해 API 호출 부분만 래핑했고, 덕분에 이후 스펙 변경에도 핵심 로직은 건드리지 않아도 됐다. <br>
처음엔 내가 만든 구조가 맞는지 걱정됐지만, 찾아보니 권장되는 방식이라 뿌듯했다. + zod를 함께 사용해 런타임 오류를 잡으면 디버깅이 훨씬 수월해진다.

> "학습 테스트는 필요하다. 그렇지 않다면 낡은 버전을 필요 이상으로 오랫동안 사용하려는 유혹에 빠지기 쉽다."

좋은 조언이라고 생각했다. 실제로 외부 라이브러리를 많이 쓰다 보면 버전 업데이트가 자주 발생한다. <br>
이럴 때 기존 코드와의 호환성을 확인할 테스트가 마련돼 있다면, 업데이트를 망설이지 않아도 된다. 테스트는 단순한 검증을 넘어, 낡은 버전에 안주하지 않도록 도와주는 안전장치라는 걸 알게 되었다.
