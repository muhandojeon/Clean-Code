## 11장 시스템

<196p>
체계적이고 탄탄한 시스템을 만들고 싶다면 흔히 쓰는 좀스럽고 손쉬운 기번으로 모듈성을 깨서는 절대로 안 된다. 객체를 생성하거나 의존성을 연결할 때도 마찬가지다. 설정 논리는 일반 실행 논리와 분리해야 모듈성이 높아진다. 또한 주요 의존성을 해소하기 위한 방식, 즉 전반적이며 일관적인 방식도 필요하다.

<199p>
‘처음부터 올바르게’ 시스템을 만들 수 있다는 믿음은 미신이다. 대신에 우리는 오늘 주어진 사용자 스토리에 맞춰 시스템을 구현해야 한다. 내일은 새로운 스토리에 맞춰 시스템을 조정하고 확장하면 된다. 이것은 반복적이고 점진적인 애자일 방식의 핵심이다. 테스트 주도 개발, 리펙터링, 깨끗한 코드는 코드 수준에서 시스템을 조정하고 확장하기 쉽게 만든다. -> 확장성을 보장하기 위해서 깨끗한 코드를 짜는 것은 필수적이라고 생각합니다. 이를 위해 필요한 방법론이 TDD와 리펙터링이고요. 다른 분들은 깨끗한 코드, 즉 확장성을 보장하는 코드를 작성하기 위해 어떤 노력을 하는지 궁금합니다.

하지만 시스템 수준에서는 어떨까? 시스템 아키텍처는 사전 계획이 필요하지 않을까? 단순한 아키텍처를 복잡한 아키텍처로 조금씩 키울 수 없다는 현실은 정확하다. 맞는 말 아닌가?<br/>
-> ㅇㅈ 해당 답변이 아래에 바로 나오네요

소프트웨어 시스템은 물리적인 시스템과 다른다. 관심사를 적절히 분리해 관리한다면 소프트웨어 아키텍처는 점진적으로 발전할 수 있다.

<203p>
사실 EJB 아키텍처가 영속성, 보안, 트랜잭션을 처리하는 방식은 관점 지향 프로그래밍을 예견했다고 보인다. AOP는 횡단 관심사에 대처해 모듈성을 확보하는 일반적인 방법론이다.<br/>
-> 좋은 방법론인거 같은데 횡단 관심사가 무엇일까요? 횡단 관심사는 핵심적인 기능이 아닌 중간중간 삽입되어야 할 기능에 대한 관심을 말합니다. 은행 시스템으로 가정한다면 다음과 같습니다.

핵심 관심사 : 입금, 출금, 이체
횡단 관심사 : 임금, 출금, 이체 과정에서 동작하는 보안 처리 혹은 예외 처리

<img width="753" height="428" alt="image" src="https://github.com/user-attachments/assets/6d40f3b5-bc71-4b66-9159-d110ea2f344f" />
위 그림을 통해 한번에 이해됐습니다.

AOP에서 관점(aspect)이라는 모듈 구성 개념은 “특정 관심사를 지원하려면 시스템에서 특정 지점들이 동작하는 방식을 일관성 있게 바꿔야 한다”라고 명시한다. 명시는 간결한 선언이나 프로그래밍 메커니즘으로 수행한다.

<210p>
애플리케이션에서 도메인 논리를 POJO로 작성할 수 있다면, 즉 코드 수준에서 아키텍처 관심사를 분리할 수 있다면, 진정한 테스트 주도 아키텍처 구축이 가능해진다. 그때그때 새로운 기술을 채택해 단순한 아키텍처를 복잡한 아키텍처로 키워갈 수도 있다. BDUF(Big Design Up Front)를 추구할 필요가 없다. 실제로 BDUF는 해롭기까지 하다. 처음에 쏟아 부은 노력을 버리지 않으려는 심리적 저항으로 인해, 그리고 처음 선택한 아키텍처가 향후 사고 방식에 미치는 영향으로 인해, 변경을 쉽사리 수용하지 못하는 탓이다.<br/>
-> POJO(Plain Old Java Object)는 아주 단순한 자바 객체(오래된 방식의 간단한 자바 객체)로 특정 기술에 종속되어 있지 않은 상태의 객체를 뜻합니다. 위와 같은 방식을 프론트엔드에 적용하기 위해선 어떤 방식으로 적용하면 좋을지 고민하고 좋은 방법을 구상해 봐야겠다는 생각이 들었습니다.

그렇다고 ‘아무 방향 없이’ 프로젝트에 뛰어들어도 좋다는 소리는 아니다. 프로젝트를 시작할 때는 일반적인 범위, 목표, 일정은 물론이고 결과로 내놓을 시스템의 일반적인 구조도 생각해야 한다. 하지만 변하는 환겨에 대처해 진로를 변경할 능력도 반드시 유지해야 한다.

<211p>
설계가 아주 멋진 API조차도 정말 필요하지 않으면 과유불급이다.

모듈을 나누고 관심사를 분리하면 지엽적인 관리와 결정이 가능해진다.

가장 적합한 사람에게 책임을 맡기면 가장 좋다. 우리는 때때로 가능한 마지막 순간까지 결정을 미루는 방법이 최선이라는 사실을 까먹곤 한다. 게으르거나 무책임해서가 아니다. 최대한 정보를 모아 최선의 결정을 내리기 위해서다. 성급한 결정은 불충분한 지식으로 내린 결정이다. 너무 일찍 결정하면 고객 피드백을 더 모으고, 프로젝트를 더 고민하고, 구현 방안을 더 탐험할 기회가 사라진다.<br/>
-> 여기서 말하는 가능한 마지막 순간까지 결정을 미루는 방법은 사용자의 피드백, 프로젝트에 대한 고민, 좋은 구현 방안을 더 탐험하는 시간을 말합니다. 아무것도 하지 않은 채로 결정을 미루는 것이 아니라 최선의 결정을 할 수 있도록 많은 고민과 연구를 거치고 가능한 마지막에 결정을 하는 것을 말한다는 생각이 드네요

<212p>
EJB2는 단지 표준이라는 이유만으로 많은 팀이 사용했다, 가볍고 간단한 설계로 충분했을 프로젝트에서도 EJB2를 채택했다. 나는 업계에서 여러 형태로 아주 과장되게 포장된 표준에 집착하는 바람에 고객 가치가 뒷전으로 밀려난 사례를 많이 봤다.<br/>
-> 기술을 선택함에 있어 가장 중요한 부분이라고 생각합니다. 표준이 되는 것이 중요한 것이 아니라 사용자 니즈를 충족하고, 주어진 상황을 해결할 수 있는 기술 선택이 중요하다고 생각합니다. 백엔드에서는 무작정 spring을 선택하는 방식, 프론트에서는 무작정 Next.js를 선택하는 방식을 예로 들 수 있다고 생각해요. 두 프레임워크 모두 상당히 몸집이 거대합니다. 간단한 설계가 필요한 상황에 사용되면, 오히려 프로젝트의 복잡도를 높일 수 있다고 생각해요. 그렇기에 기술을 선택함에 있어 항상 신중하고, 상황에 맞아야 한다고 생각합니다!
