- **창발(創發)** = “스스로 드러난다”, “밑에서부터 자연스럽게 생겨난다”
- 영어로는 **Emergence**
- **작은 요소들이 상호작용하면서 전체적인 구조나 질서가 자연스럽게 나타나는 현상**을 뜻한다

<br>

### 창발적 설계로 깔끔한 코드를 구현하자

- 대다수는 켄트 벡이 제시한 단순한 설계 규칙 네 가지가 소프트웨어 설계 품질을 크게 높여준다고 믿는다
- 켄트 벡은 다음 규칙을 따르면 설계는 ‘단순하다’고 말한다
1. 모든 테스트를 실행한다
2. 중복을 없앤다
3. 프로그래머 의도를 표현헌다
4. 클래스와 메서드 수를 최소로 줄인다

<br>

### 단순한 설계 규칙 1 : 모든 테스트를 실행하라

- 시스템이 의도한 대로 돌아가는지 검증할 간단한 방법이 없다면, 문서 작성을 위해 투자한 노력에 대한 가치는 인정받기 어렵다
- 검증이 불가능한 시스템은 절대 출시하면 안 된다
- 테스트가 가능한 시스템을 만들려고 애쓰면 설계 품질이 더불어 높아진다
- 크기가 작고 목적 하나만 수행하는 클래스가 나온다
- 다만 결합도가 높으면 테스트 케이스를 작성하기가 여렵다
- 테스트 케이스를 많이 작성할수록 개발자는 DIP와 같은 원칙을 적용하고 DI, 인터페이스, 추상화 같은 도구를 사용해 결합도를 낮춘다
- 따라서 설계 품질은 더욱 높아진다

<br>

### 단순한 설계 규칙 2~4 : 리팩터링

- 테스트 케이스를 모두 작성했다면 이제 코드와 클래스를 정리해도 괜찮다
- 테스트 케이스가 있으면 코드를 정리하면서 시스템이 깨질까 걱정할 필요가 없다
- 리팩터링 단계에서는 응집도를 노이고, 결합도를 낮추고, 관심사를 분리하고, 시스템 관심사를 모듈로 나누고, 함수와 클래스 크기를 줄이고, 더 나은 이름을 선택하는 등 다양한 기법을 동원한다

<br>

### 중복을 없애라

- 중복은 추가 작업, 추가 위험, 불필요한 복잡도를 뜻한다
- 깔끔한 시스템을 만들려면 단 몇 줄이라도 중복을 제거하겠다는 의지가 필요하다

<img width="598" height="469" alt="image" src="https://github.com/user-attachments/assets/a3a0ac1f-a322-4cbd-ad7c-8a2b210547e5" />


- 아주 적은 양이지만 공통적인 코드를 새 메서드로 뽑고 보니 클래스가 SRP를 위반한다
- 이런 ‘소규모 재사용’은 시스템 복잡도를 극적으로 줄여준다

<br>

**템플릿 메서드 패턴**

- 고차원 중복을 제거할 목적으로 자주 사용하는 기법이다

<img width="582" height="650" alt="image" src="https://github.com/user-attachments/assets/5ffe74bc-8a47-48c9-bf53-4c305189c187" />

- 최소 법정 일수를 계산하는 코드만 제외하고 거의 동일했기에 위와 같이 중복을 제거할 수 있다

<br>

### 표현하라

- 엉망인 코드는 나중에 코드를 유지보수할 사람이 코드를 짜는 사람만큼이나 문제를 깊이 이해할 가능성은 희박히다
- 프로젝트 비용 중 대다수는 장기적인 유지보수에 들어간다
- 코드는 개발자의 의도를 분명히 표현해야 한다
- 그래야 결함이 줄어들고 유지보수 비용이 적게 든다

1. 좋은 이름을 선택한다
2. 함수와 클래스 크기를 가능한 줄인다
3. 표준 명칭을 사용한다
  - 클래스가 COMMAND 나 VISITOR 와 같은 표준 패턴을 사용해 구현된다면 클래스 이름에 패턴 이름을 넣어준다
4. 단위 테스트 케이스를 꼼꼼히 작성한다

→ 나중에 코드를 읽을 사람은 바로 자신일 가능성이 높다는 사실을 명심해라

<br>

### 클래스와 메서드 수를 최소로 줄여라

- 때로는 무의미하고 독단적인 정책 탓에 클래스 수와 메서드 수가 늘어나기도 한다
- 예로는 클래스마다 무조건 인터페이스를 생성하라고 요구하는 구현 표준,
- 그리고 자료 클래스와 동작 클래스는 무조건 분리해야 한다고 주장하는 것들이 있다
- 가능한 독단적인 견해는 멀리하고 실용적인 방식을 택한다
- 결국 클래스와 함수 수를 줄이는 작업도 중요하지만, 테스트 케이스를 만들고 중복을 제거하고 의도를 표현하는 작업이 더 중요하다
