# 다시 볼 문장들
- 동시성은 결합을 없애는 전략이다. 즉, 무엇과 언제를 분리하는 전략이다. 스레드가 하나인 프로그램은 무엇과 언제가 서로 밀접하다. 그래서 호출 스택을 살펴보면 프로그램 상태가 곧바로 드러난다.
- 무엇과 언제를 분리하면 애플리케이션 구조와 효율이 극적으로 나아진다. 구조적인 관점에서 프로그램은 거대한 루프 하나가 아니라 작은 협력 프로그램 여럿으로 보인다. 따라서 시스템을 이해하기가 쉽고 문제를 분리하기도 쉽다.
- 동시성에 대한 흔한 오해
  - "동시성은 항상 성능을 높여준다"
  - "동시성을 구현해도 설계는 변하지 않는다"
  - "웹 또는 EJB 컨테이너를 사용하면 동시성을 이해할 필요가 없다"
- 동시성 코드가 일으키는 문제로부터 시스템을 방어하는 원칙과 기술
  - 동시성 코드는 다른 코드와 분리하라.
  - 자료를 캡슐화하라. 공유 자료를 최대한 줄여라.
  - 다른 스레드와 자료를 공유하지 않는다.
  - ConcurrentHashMap은 거의 모든 상황에서 HashMap보다 빠르다. 
  - 공유 객체 하나에는 메서드 하나만 사용하라.
  - 잠긴 영역에서 다른 잠긴 영역을 호출하지 않는다.
  - 공유하는 객체수와 범위를 최대한 줄인다.

# 느낀점
SRP 에 신경쓰는 것, 메서드가 커버하는 양을 줄이고, 최대한 독립적으로 메서드를 구현하는 것이 동시성을 줄이는 방법인 것 같다. 하지만 아직 동시성 프로그래밍을 해본적이 많이 없어, 제대로 이해를 하진 못했다. Node.js를 사용할 땐, event loop를 사용한 비동기로 이런 동시성 문제를 자주 피해갔다. 사실 깊게 생각할 일도 없었다. Event Loop를 통해 동시성 문제를 피해가는 방법, C++나 Java 에서처럼 임계영역을 활용해서 동시성 문제를 피해가려는 노력 등을 이해하는 것도 재미있는 공부인 것 같다.
