**📕Ch 7. 오류처리**

> 오류 처리를 프로그램 논리와 분리해 독자적인 사안으로 고려하면 튼튼하고 깨끗한 코드를 작성할 수 있다.

프론트엔드 개발을 하면서도 꾸준히 고민하게 되는 부분이다. <br>
책에서는 주로 자바 기반의 예외 처리 흐름을 예로 들고 있지만 프론트엔드에서도 오류 처리는 중요한 설계 요소다. <br>
<br> 나는 tanstack-query의 onError 콜백을 적극 활용하고 있다. <br>
서버와의 통신에서의 다양한 오류 상황을 컴포넌트 내부 로직과 섞지 않고 훅 레벨에서 처리하도록 분리한다.<br>
이렇게 하면 에러 처리가 UI 로직과 섞이지 않아서 더 읽기 쉬운 코드가 되고, 재사용성도 좋아진다.

하지만 최근 `tanstack-query` v5에서 `onError`, `onSuccess` 등 콜백이 deprecated되면서 그 방식이 예기치 못한 부작용을 유발할 수 있다는 걸 다시 돌아보게 되었다. <br>
나 역시 이전에 동일한 훅이 여러 번 호출될 때 onError도 중복 호출되어 같은 토스트 메시지가 화면에 반복 출력되는 문제를 겪은 적이 있다. <br>
당시에는 글로벌 토스트 처리 로직으로 중복 메시지를 필터링해 임시 해결했지만, 지금 생각하면 그건 근본적인 해결책은 아니었다.<br>
<br>
앞으로는 tanstack-query가 권장하는 방식처럼 전역 에러 핸들링을 도입해 안정적인 에러 처리 구조를 구성해보려 한다.
